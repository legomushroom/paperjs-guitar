// Generated by CoffeeScript 1.6.2
var String, h, onFrame, onMouseDrag, onMouseUp, string;

Path.prototype.setWidth = function(width) {
  this.segments[3].point.x = this.segments[0].point.x + width;
  return this.segments[2].point.x = this.segments[1].point.x + width;
};

Path.prototype.setHeight = function(height) {
  this.segments[1].point.y = this.segments[0].point.y + height;
  return this.segments[2].point.y = this.segments[3].point.y + height;
};

Path.prototype.reset = function() {
  this.setWidth(0);
  this.setHeight(0);
  return this.smooth();
};

h = {
  getRand: function(min, max) {
    return Math.floor((Math.random() * ((max + 1) - min)) + min);
  }
};

view.setViewSize($(window).outerWidth(), $(window).outerHeight());

console.log(TWEEN.Easing);

console.log(TWEEN.Easing.Elastic.Out);

String = (function() {
  function String() {
    this.makeBase();
  }

  String.prototype.makeBase = function() {
    this.base = new Path;
    this.base.add([200, -5]);
    this.base.add([200, view.viewSize.height + 5]);
    this.base.strokeColor = 'black';
    return this.base.strokeWidth = 4;
  };

  String.prototype.change = function(point) {
    if (point.x > 500 || point.x < 0) {
      return;
    }
    this.base.segments[0].handleOut.y = point.y;
    return this.base.segments[0].handleOut.x = point.x - 200;
  };

  String.prototype.animate = function() {
    var from, it, to, tw;

    from = {
      x: this.base.segments[0].handleOut.x,
      y: this.base.segments[0].handleOut.y
    };
    to = {
      x: 0,
      y: 0
    };
    tw = new TWEEN.Tween(from).to(to, 500);
    tw.easing(function(a) {
      var b;

      b = Math.sin(a);
      console.log(b);
      return b;
    });
    it = this;
    tw.onUpdate(function() {
      it.base.segments[0].handleOut.x = this.x;
      return it.base.segments[0].handleOut.y = this.y;
    });
    return tw.start();
  };

  return String;

})();

string = new String;

onFrame = function(e) {
  return TWEEN.update();
};

onMouseDrag = function(e) {
  return string.change(e.point);
};

onMouseUp = function(e) {
  return string.animate();
};
